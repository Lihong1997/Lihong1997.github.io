[TOC]

# 内核

## 1. 简单知识点

#### 1.1内核态与用户态的区别：



当一个任务（进程）执行系统调用[^1]而陷入内核代码中执行时，我们就称进程处于内核运行态（或简称内核态）

[具体分析的链接][1]

#### 1.2实模式和保护模式：

实模式：能够直接访问修改实际空间地址，安全性差

保护模式：通过中间介质[^2]间接访问地址空间，安全性好，不会发生程序直接访问修改内核空间的代码

[具体分析链接][2]

#### 1.3中断和中断处理：

将中断分为两个部分：上半部和下半部

1. 上半部在关中断情况下执行。
2. 下半部可以稍后推迟执行，在开中断得情况执行



#### 1.4异常和中断

1. 中断：由硬件产生的异步中断
2. 异常：由处理器本身产生的同步中断

#### 1.5更换内核的操作：

[链接][3]

#### 1.6 进程上下文，中断上下文：

1. 进程上下文：

   其是指进程由用户态切换到内核态是需要保存用户态时状态（堆栈，值，寄存器等，保护现场）

2. 中断上下文：

   硬件通过中断触发信号，导致内核调用中断处理程序，进入内核空间

[1号链接][4]

[2号链接][5]

[3号链接][6]

#### 1.7 7w分析工作：

  （1）用谁做 (Who)（2）做什么 (What)（3）何时做 (When)（4）在哪里做 (Where)（5）如何做 (How)（6）为什么做 (Why)（7）为谁做 (Whom)。



[1]:https://blog.csdn.net/fatsandwich/article/details/2131707
[2]:https://blog.csdn.net/trochiluses/article/details/8954527
[3]:https://blog.csdn.net/mofiu/article/details/77894203
[4]:https://blog.csdn.net/zqixiao_09/article/details/50877756
[5]:https://blog.csdn.net/gangyanliang/article/details/6887128
[6]:https://blog.csdn.net/gangyanliang/article/details/6887128

[^1]:不只是系统调用，还有异常，和外围设备中断。前者属于主动陷入内核态，后两者属于被动陷入内核态
[^2]:虚拟文件系统(VFS)